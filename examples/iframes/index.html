<!doctype html>

<iframe src="iframe.html"></iframe>
<script src="https://cdn.jsdelivr.net/npm/comlinkjs/comlink.global.min.js"></script>
<script>
  async function main() {
    const ifr = document.querySelector('iframe');
    await new Promise(resolve => ifr.onload = resolve);
    const f = Comlink.proxy(Comlink.windowEndpoint(ifr.contentWindow));
    alert(`1 + 3 = ${await f(1, 3)}`);
  }
  main();
</script>
